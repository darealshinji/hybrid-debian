.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.44.1.
.TH TSMUXER "1" "August 2014" "tsMuxeR 2.6.11" "User Commands"
.SH NAME
tsMuxeR \- simple program to mux video to TS/M2TS files or create BD disks
.SH DESCRIPTION
Network Optix tsMuxeR.  Version 2.6.11. www.networkoptix.com
.PP
tsMuxeR is  simple  program to  mux video to  TS/M2TS files or create BD disks.
tsMuxeR does not use external filters (codecs).
.SH EXAMPLES
.IP
tsMuxeR <media file name>
tsMuxeR <meta file name> <out file/dir name>
.PP
tsMuxeR can be run in track detection mode or muxing mode. If run tsMuxeR  with
only  one argument  then tsMuxeR  display  input track information  required to
construct  meta  file.  If run tsMuxeR  with two arguments tsMuxeR start muxing
or demuxing process.
.PP
Meta file format:
File MUST has extension .meta.  This file  define files you want to  multiplex.
First line of meta file contain additional parameters that apply to all tracks.
In this case the line should begin with the word MUXOPT.
.PP
Following lines indicate a list of tracks  and their parameters.  The format is
as follows:   <code name>,   <file name>,   <parameters>   Parameters are comma
separated. Each parameter indicates the name and value.
Example of META file:
.PP
MUXOPT \-\-blu\-ray
V_MPEG4/ISO/AVC, D:/media/test/stream.h264, fps=25
A_AC3, D:/media/test/stream.ac3, timeshift=\-10000ms
.PP
In this example one AC3 audio stream and one H264 video stream are  multiplexed
to BD disk.  Input file name can reference to elementary stream or track inside
container.
.PP
Supported input containers:
\- TS/M2TS/MTS
\- EVO/VOB/MPG/MPEG
\- MKV
\- MOV/MP4
\- MPLS (Blu\-ray media play list file)
.PP
Names of codecs in the meta file:
\- V_MPEGH/ISO/HEVC  H.265/HEVC
\- V_MPEG4/ISO/AVC   H.264/AVC
\- V_MPEG4/ISO/MVC   H.264/MVC
\- V_MS/VFW/WVC1     VC1
\- V_MPEG\-2          MPEG2
\- A_AC3             AC3/AC3+/TRUE\-HD
\- A_AAC             AAC
\- A_DTS             DTS/DTS\-Express/DTS\-HD
\- A_MP3             MPEG audio layer 1/2/3
\- A_LPCM            raw pcm data or PCM WAV file
\- S_HDMV/PGS        Presentation graphic stream (BD subtitle format)
\- S_TEXT/UTF8       SRT subtitle format.  Encoding MUST be  UTF\-8/UTF\-16/UTF\-32
.PP
Each track may has addition parameters.  Track parameters do not  have dash. If
parameter value has several words, parameter must be enclosed in quotes.
.PP
Common additional parameters for any type of track:
\- track             track number if input file is container.
\- lang              track language. MUST contains exact 3 letters.
.PP
Additional parameters for audio tracks:
\- timeshift         Shift audio track to future (positive value) or to past.
.IP
Measured at milliseconds.
.PP
\- down\-to\-dts       Available only for DTS\-HD tracks. Filter out HD part.
\- down\-to\-ac3       Available only for TRUE\-HD tracks. Filter out HD part.
\- secondary         Mux as secondary audio.  Available for DD+ and DTS\-Express.
.PP
Additional parameters for video tracks:
\- fps               Video fps. If not defined, default value auto detected from
.IP
a source stream if present. If not, default value 23.976.
.PP
\- delPulldown       Remove pulldown from the track if exists.  This option lead
.IP
to fps change from 30 to 24 if pulldown exists.
.PP
\- ar                Override video aspect ratio. 16:9, 4:3 e.t.c.
.PP
Additional parameters for H.264 video tracks:
\- level             Overwrite  level in the H264 stream.  Note:  option  update
.IP
headers only. The H264 stream may not meet the requirements
of a lower level.
.PP
\- insertSEI         If original   stream  does not contain  SEI picture timing,
.TP
SEI buffering period or VUI parameters,
then add this data
.IP
to the stream. This option is recommended for BD muxing.
.PP
\- forceSEI          Add SEI picture timing, buffering period and VUI parameters
.IP
to the stream. Rebuild data If data already exist.
.PP
\- contSPS           If original video doesn't contain  repetitive SPS/PPS  then
.TP
SPS/PPS will be added to the stream before
each key frame.
.IP
This option is recommended for BD muxing.
.PP
\- subTrack          Used  for  combined  AVC/MVC  tracks  only.  TsMuxeR always
.TP
demultiplex
such  tracks to separate  AVC and MVC streams.
.IP
This parameter defined reference to AVC part(if value=1) or
or to MVC part (if value=2).
.PP
\- secondary         Mux as secondary video (PIP).
\- pipCorner         Corner for PIP video. Allowed values: "TopLeft","TopRight",
.IP
"BottomRight", "BottomLeft".
.PP
\- pipHOffset        PIP window horizontal offset from the corner in pixels.
\- pipVOffset        PIP window vertical offset from the corner in pixels.
\- pipScale          PIP window scale factor. Allowed values: "1", "1/2", "1/4",
.IP
"1.5", "fullScreen".
.PP
\- pipLumma          Allow PIP window to be transparent. Transparent colors  are
.IP
lumma colors in range [0..pipLumma].
.PP
Additional parameters for PG and SRT tracks:
.PP
\- video\-width       The width of the video in pixels.
\- video\-height      The height of the video in pixels.
\- fps               Video fps.  Recommended  to  define this parameter for more
.IP
carefully timing processing.
.PP
\- 3d\-plane          Parameter  defines  number  of  the '3D offset track' which
.TP
placed
inside  MVC  track.  Each message has individual 3D
.TP
offset. This information
stored  inside 3D offset track.
.PP
Additional parameters for SRT tracks:
.PP
\- font\-name         Font name to render.
\- font\-color        Font color. Color can be defined in hexadecimal or  decimal
.TP
format. If color 24 bit long
(for instance 0xFF00FF)  it's
.TP
define RGB components.
IF color 32 bit long  (for instance
.IP
0x80FF00FF) it's define ARGB components.
.PP
\- font\-size         Font size in pixels.
\- font\-italic       Italic display text.
\- font\-bold         Bold display text.
\- font\-underline    Underlined text.
\- font\-strikeout    Strikethrough text.
\- bottom\-offset     Distance from the lower edge while displaying text.
\- font\-border       Outline width.
\- fadein\-time       Time in ms for smooth subtitle appearance.
\- fadeout\-time      Time in ms for smooth subtitle disappearance.
\- line\-spacing      Interval between lines. Default value 1.0.
.PP
tsMuxeR  supports  addition  tag inside  SRT track.  The syntax  and parameters
coincide with HTML: <b>, <i>, <u>, <strike>, <font>. Default relative font size
(used in these tags) \- 3.  For example:
.PP
<b><font size=5 color="deepskyblue" name="Arial"><u>Test</u>
<font size= 4 color="#806040">colored</font>text</font>
</b>
.PP
Global addition parameters placed in the first line of the META file  (MUXOPT).
All parameters in this group started with two dashes:
.PP
\-\-pcr\-on\-video\-pid  Do not allocate separate PID for PCR, use an existing video
.IP
PID.
.PP
\-\-new\-audio\-pes     Use bytes 0xfd instead of 0xbd for AC3, True\-HD, DTS and
.IP
DTS\-HD. Parameter is auto activated for BD muxing.
.PP
\-\-vbr               Use variable bitrate.
\-\-minbitrate        Sets the lower limit of the vbr bitrate.  If the stream has
.TP
a
smaller bitrate  then NULL  packets will be inserted  to
.IP
hold the limit.
.PP
\-\-maxbitrate        The upper limit of the vbr bitrate.
\-\-cbr               Muxing mode  with a fixed bitrate.  Options \-\-vbr and \-\-cbr
.IP
should not be used together.
.PP
\-\-vbv\-len           The  length  of the  virtual  buffer  in milliseconds.  The
.TP
default value
is 500.  Typically, this  option  is used in
.TP
together with \-\-cbr. The parameter is similar to
the value
.TP
of
vbv\-buffer\-size  in  the  x264  coder,  but  defined in
.IP
milliseconds instead of kbit.
.PP
\-\-no\-asyncio        Do not  create  a separate thread  for writing.  Also, this
.TP
option
disable  flag  FILE_FLAG_NO_BUFFERING  for writing.
.IP
Deprecated option.
.PP
\-\-auto\-chapters     Number.  Insert a chapter every <nn> minutes. Used only for
.IP
BD/AVCHD mode.
.PP
\-\-custom\-chapters   A semicolon delimited list of string in format hh:mm:ss.zzz
\-\-demux             In this mode selected audio  and video tracks are stored as
.IP
separate files instead of muxing. utput name must be folder
name.  All selected  effects  (such as change  of level for
h264) are processed.  When demux,  certain types  of tracks
always get changed on storing into a file:
\- Subtitles in a Presentation Graphic Stream  are converted
.IP
into sup format.
.IP
\- PCM audio are saved as WAV files.
.PP
\-\-blu\-ray           Mux to BD diks. If output file name is folder,  bluray disk
.TP
is created as folder on HDD.
For BD3D disks ssif files are
.TP
not
created at  this  case.  If output file name  has .iso
.IP
extension, then BD disk is created as image file.
.PP
\-\-avchd             Mux to AVCHD disk.
\-\-cut\-start         Trim the beginning of the file.  Value should be  completed
.TP
with
"ms"  (the number of milliseconds),  "s" (seconds) or
.IP
"min" (minutes).
.PP
\-\-cut\-end           Trim  the end of the file.  Value should be  completed with
.IP
"ms" (the number of milliseconds), "s" (seconds) or "min"
(minutes).
.PP
\-\-split\-duration    Split output to several files.The time specified in seconds
\-\-split\-size        Split  output to several files.  Values  should be  written
.IP
using one of the following postfix: Kb,kib, mb,mib, gb,gib.
.PP
\-\-right\-eye         Use base video stream for right eye. Used for 3DBD only.
\-\-start\-time        Timestamp of the first video frame. May be defined as 45Khz
.IP
clock (just a number) or as time in format hh:mm:ss.zzz
.PP
\-\-mplsOffset        The number of the first MPLS file.  Used for  BD disk mode.
\-\-m2tsOffset        The number of the first M2TS file.  Used for  BD disk mode.
\-\-insertBlankPL     Add extra  short playlist.  Used for cropped video muxed to
.IP
BD disk.
.PP
\-\-blankOffset       Blank playlist number.
\-\-label             Disk label for muxing to ISO file.
\-\-extra\-iso\-space   Allocate extra space  in 64K units  for ISO  disk  metadata
.IP
(file and directory names). Normally, tsMuxeR allocate this
space automatically. But if split condition generates a lot
of small files, extra ISO space may be required to define.
